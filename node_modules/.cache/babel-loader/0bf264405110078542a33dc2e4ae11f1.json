{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Work\\\\Desktop\\\\Wild Code School\\\\Projects\\\\art-gallery-react-project2\\\\bucharest-project2-art-gallery\\\\src\\\\components\\\\Infinite.js\";\nimport React, { Component } from \"react\";\nimport Image from \"./Image\";\nimport axios from \"axios\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport \"gallery.css\";\nexport class Infinite extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      images: [],\n      count: 20,\n      start: 1,\n      apiRoot: \"https://api.unsplash.com\",\n      accessKey: \"RST2-OdevbYXhG6OgrWLofTFCVNUGbE-dCRpmTG3Wj8\"\n    };\n\n    this.fetchImages = () => {\n      console.log(this.state.start);\n      const {\n        count,\n        start,\n        apiRoot,\n        accessKey\n      } = this.state;\n      this.setState({\n        start: this.state.start + 1\n      });\n      axios.get(`${apiRoot}/photos?client_id=${accessKey}&per_page=${count}&page=${start}`).then(res => this.setState({\n        images: this.state.images.concat(res.data)\n      }));\n    };\n  }\n\n  componentDidMount() {\n    const {\n      count,\n      start,\n      apiRoot,\n      accessKey\n    } = this.state;\n    axios.get(`${apiRoot}/photos?client_id=${accessKey}&per_page=${count}&page=${start}`).then(res => this.setState({\n      images: res.data\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(InfiniteScroll, {\n      dataLength: this.state.images.length,\n      next: this.fetchImages,\n      hasMore: true,\n      loader: /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 19\n        }\n      }, \"Loading...\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, this.state.images.map(image => /*#__PURE__*/React.createElement(Image, {\n      key: image.id,\n      image: image,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\nexport default Infinite;","map":{"version":3,"sources":["C:/Users/Work/Desktop/Wild Code School/Projects/art-gallery-react-project2/bucharest-project2-art-gallery/src/components/Infinite.js"],"names":["React","Component","Image","axios","InfiniteScroll","Infinite","state","images","count","start","apiRoot","accessKey","fetchImages","console","log","setState","get","then","res","concat","data","componentDidMount","render","length","map","image","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAO,aAAP;AAEA,OAAO,MAAMC,QAAN,SAAuBJ,SAAvB,CAAiC;AAAA;AAAA;AAAA,SACtCK,KADsC,GAC9B;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,KAAK,EAAE,EAFD;AAGNC,MAAAA,KAAK,EAAE,CAHD;AAINC,MAAAA,OAAO,EAAE,0BAJH;AAKNC,MAAAA,SAAS,EAAE;AALL,KAD8B;;AAAA,SAmBtCC,WAnBsC,GAmBxB,MAAM;AAClBC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWG,KAAvB;AACA,YAAM;AAAED,QAAAA,KAAF;AAASC,QAAAA,KAAT;AAAgBC,QAAAA,OAAhB;AAAyBC,QAAAA;AAAzB,UAAuC,KAAKL,KAAlD;AACA,WAAKS,QAAL,CAAc;AAAEN,QAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KAAX,GAAmB;AAA5B,OAAd;AACAN,MAAAA,KAAK,CACFa,GADH,CAEK,GAAEN,OAAQ,qBAAoBC,SAAU,aAAYH,KAAM,SAAQC,KAAM,EAF7E,EAIGQ,IAJH,CAISC,GAAD,IACJ,KAAKH,QAAL,CAAc;AAAER,QAAAA,MAAM,EAAE,KAAKD,KAAL,CAAWC,MAAX,CAAkBY,MAAlB,CAAyBD,GAAG,CAACE,IAA7B;AAAV,OAAd,CALJ;AAOD,KA9BqC;AAAA;;AAStCC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEb,MAAAA,KAAF;AAASC,MAAAA,KAAT;AAAgBC,MAAAA,OAAhB;AAAyBC,MAAAA;AAAzB,QAAuC,KAAKL,KAAlD;AAEAH,IAAAA,KAAK,CACFa,GADH,CAEK,GAAEN,OAAQ,qBAAoBC,SAAU,aAAYH,KAAM,SAAQC,KAAM,EAF7E,EAIGQ,IAJH,CAISC,GAAD,IAAS,KAAKH,QAAL,CAAc;AAAER,MAAAA,MAAM,EAAEW,GAAG,CAACE;AAAd,KAAd,CAJjB;AAKD;;AAeDE,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,cAAD;AACE,MAAA,UAAU,EAAE,KAAKhB,KAAL,CAAWC,MAAX,CAAkBgB,MADhC;AAEE,MAAA,IAAI,EAAE,KAAKX,WAFb;AAGE,MAAA,OAAO,EAAE,IAHX;AAIE,MAAA,MAAM,eAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMG,KAAKN,KAAL,CAAWC,MAAX,CAAkBiB,GAAlB,CAAuBC,KAAD,iBACrB,oBAAC,KAAD;AAAO,MAAA,GAAG,EAAEA,KAAK,CAACC,EAAlB;AAAsB,MAAA,KAAK,EAAED,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CANH,CADF,CADF;AAcD;;AA/CqC;AAkDxC,eAAepB,QAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport Image from \"./Image\";\r\nimport axios from \"axios\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport \"gallery.css\";\r\n\r\nexport class Infinite extends Component {\r\n  state = {\r\n    images: [],\r\n    count: 20,\r\n    start: 1,\r\n    apiRoot: \"https://api.unsplash.com\",\r\n    accessKey: \"RST2-OdevbYXhG6OgrWLofTFCVNUGbE-dCRpmTG3Wj8\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { count, start, apiRoot, accessKey } = this.state;\r\n\r\n    axios\r\n      .get(\r\n        `${apiRoot}/photos?client_id=${accessKey}&per_page=${count}&page=${start}`\r\n      )\r\n      .then((res) => this.setState({ images: res.data }));\r\n  }\r\n\r\n  fetchImages = () => {\r\n    console.log(this.state.start);\r\n    const { count, start, apiRoot, accessKey } = this.state;\r\n    this.setState({ start: this.state.start + 1 });\r\n    axios\r\n      .get(\r\n        `${apiRoot}/photos?client_id=${accessKey}&per_page=${count}&page=${start}`\r\n      )\r\n      .then((res) =>\r\n        this.setState({ images: this.state.images.concat(res.data) })\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <InfiniteScroll\r\n          dataLength={this.state.images.length}\r\n          next={this.fetchImages}\r\n          hasMore={true}\r\n          loader={<h4>Loading...</h4>}\r\n        >\r\n          {this.state.images.map((image) => (\r\n            <Image key={image.id} image={image} />\r\n          ))}\r\n        </InfiniteScroll>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Infinite;\r\n"]},"metadata":{},"sourceType":"module"}